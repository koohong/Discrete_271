{
  "hash": "24a4e78a86b35bcf4aba4c9729a25b52",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Possion regression\"\nformat:\n  html:\n    toc: true\n    html-math-method: katex\n    css: style.css  \n    theme:\n      light: cosmo\n      dark: [cosmo, theme-dark.scss]\nexecute: \n   echo: false\neditor_options: \n  chunk_output_type: console\n---\n\n```{=html}\n<style>\n.table-hover > tbody > tr:hover { \n  background-color: #f4f442;\n}\n</style>\n```\n\n\n\n\n\n\n\nReading\n- Ch 4.1,4.2.1 - 4.2.3,5.2\n- Skim sections 5.1, 5.2.3,5.3,.5.4\n  \n# Generalized linear models (GLM)\n\n- GLMs have three different parts (see page 121:\n  \n  1. Random Component:\n      - $Y$, for logistic regression, $Y$ has a Bernoulli distribution\n  \n  2. Systematic Component:\n      - This specifies a linear combination of the regression parameters with `features`, and this part is referred to as the `linear predictor`\n      - $\\beta_0 + \\beta_1x_1 + .... + \\beta_px_p$\n      \n  3. LINK FUNCTION:\n      - Specifies how the expected value of the `random component` $E[Y]$ is linked to the `sysmatic` component.\n      - $\\text{logit}(\\pi) = \\beta_0 + \\beta_1x_1 + .... + \\beta_px_p$\n      - where $E[Y] = \\pi$\n\n\n## Class Announcements\n\nNo HW this week\n\nLab-1 due in 1 week\n\n## Roadmap\n\n**Rearview Mirror**\n\n- Model unordered and ordered categorical response \n\n**Today**\n\n- Poisson probability model\n\n- Poisson regression model, estimation, and statistical inference\n\n- Model Comparison Criteria, Model Assessment, Goodness of Fit\n\n**Looking Ahead**\n\n- Univariate and multivariate time-series\n\n- Notion of dependency and stationarity\n\n# Poisson Distribution \n\nRecall that the Poisson distribution models count data i.e. the number of events between 0,1,... for a random variable $X$. The distribution is:\n\n$$P(X=k)=\\frac{\\lambda^ke^{-\\lambda}}{k!}$$\nOne key assumption of the distribution is that $E(X)=Var(X)=\\lambda$, meaning that the mean and variance of the distribution is the same.\n\nAs we will see this is a limiting assumption when we do Poisson Regression.\n\n\nIn Poisson regression we model the log of $\\lambda$ (the mean assuming a Poisson distribution) as a linear combination of the features:\n\n$$\\text{log}(\\lambda_i)=\\text{log}(E(Y_i|X_i))=X_i\\beta$$\n\nWe use maximum likelihood to estimate the coefficients in $\\beta$ assuming that $Y$ follows an iid Poisson distribution:\n\n$$max_\\beta\\ L(\\beta|Y_1,...,Y_n)=P(Y_1=y_1,...,Y_n=y_n|\\beta)=\\Pi_i\\frac{e^{y_iX_i\\beta}e^{-e^{X_i\\beta}}}{y_i!}$$\n\nThe log likelihood has no closed form solution, so we estimate the parameters beta using numerical methods just like in logistic regression.\n\nFor each $y_i$ we can calculate and predict fitted values using the MLE of the coefficients:\n\n$$\\hat{y_i}=E(y_i|X_i)=\\lambda_i=e^{X_i\\beta}$$\nUnder Poisson regression, the $\\text{V}[\\hat{y_i}]=\\lambda_i=e^{X_i\\beta}$ so that Poisson regression naturally has heteroskedasticity in the results.\n\nBecause coefficients are linear on the log scale, when exponentiated they multiply the expected mean outcome. This is similar to the interpretation in logistic regression except we are not dealing with odds ratios but rather changes in the average outcome.\n\n## Parameter\n\nEqual Mean and Variance and Overdispersion\n\nThis assumption of equal mean and variance is often not met when actually fitting to data, which results in what is known as overdispersion where the variance in the data is larger than the variance fit in the model.\n\nThis usually can be remedied by adding more $X$ variables into the model to improve the fit.\n\nAnother option is to fit what are known as a quasi poisson model or negative binomial regression model. In both cases, we relax the equal mean and variance assumption by adding an additional parameter to the variance of the response variable, allowing it to be larger than the mean.\n\nIn quasi poisson regression we set $\n\n$$\\text{V}[\\hat{y_i}]=\\theta\\lambda_i$$ \nand in negative binomial regression we set \n\n$$\\text{V}[\\hat{y_i}]=\\lambda_i+\\kappa\\lambda_i^2$$\n\n\n# Case Study: Modeling the Number of Awards \n\n## Target\n\n  - `The number of awards` earned by students based on the `type of programs students were enrolled` in using historical admission data. \n  - `num_awards`: the number of awards earned by students at a high school in a year\n  - `math`: students’ scores on their final math exam\n  - `prog`: the type of program in which the students were enrolled \n    - `1 = General`\n    - `2 = Academic` \n    - `3 = Vocational`\n\n## EDA\n\n- What is the number of observations?\n- What is the number of variables? \n- Are there any redundant variables?\n- Are there any missing information?\n- Are there any duplicated records?\n- Are there any values in each of the variables that seem unreasonable?\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Modeling the Number of Awards</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> X </th>\n   <th style=\"text-align:right;\"> id </th>\n   <th style=\"text-align:right;\"> num_awards </th>\n   <th style=\"text-align:left;\"> prog </th>\n   <th style=\"text-align:right;\"> math </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> Vocational </td>\n   <td style=\"text-align:right;\"> 41 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 108 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> General </td>\n   <td style=\"text-align:right;\"> 41 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> Vocational </td>\n   <td style=\"text-align:right;\"> 44 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 67 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> Vocational </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 153 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> Vocational </td>\n   <td style=\"text-align:right;\"> 40 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 51 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> General </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         X         id num_awards       prog       math \n         0          0          0          0          0 \n```\n\n\n:::\n:::\n\n\n\n\n\\newpage\n\n### Univariate Analysis\n\n- Use a frequency table and a bar plot to explore the distribution of the response variable(num_awards). What do you learn?\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Modeling the Number of Awards</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Number of awards </th>\n   <th style=\"text-align:right;\"> N </th>\n   <th style=\"text-align:right;\"> Proportion </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 124 </td>\n   <td style=\"text-align:right;\"> 0.62 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 49 </td>\n   <td style=\"text-align:right;\"> 0.24 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0.06 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0.04 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.01 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.01 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The dot-dot notation (`..prop..`) was deprecated in ggplot2 3.4.0.\nℹ Please use `after_stat(prop)` instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](wk5_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n\n- The prog is the committee’s key explanatory variable of interest. It has three levels: academic, general, and vocational. Use a frequency table and a bar plot to examine its distribution. What do you discover? \n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Modeling the Number of Awards</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">  Type of program </th>\n   <th style=\"text-align:right;\"> N </th>\n   <th style=\"text-align:right;\"> Proportion </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Academic </td>\n   <td style=\"text-align:right;\"> 105 </td>\n   <td style=\"text-align:right;\"> 0.52 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> General </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 0.22 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Vocational </td>\n   <td style=\"text-align:right;\"> 50 </td>\n   <td style=\"text-align:right;\"> 0.25 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n::: {.cell-output-display}\n![](wk5_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\n- Plot the distribution of math scores. What are the range and average math scores?\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](wk5_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n\n### Bivariate Analysis\n\n- Examine the associations between the number of awards and program and math scores.\n\n- The graph below shows the distribution of the number of awards by program types. How are awards distributed among different programs?\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](wk5_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n\n- The graph below shows the distribution of the number of awards and students' math scores. Is there any clear relationship between them?\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](wk5_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n\n- Use summary_factorlist() function from the finalfit package to tabulate data. What do you learn from the EDA?\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Modeling the Number of Awards</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Dependent: num_awards </th>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\"> unit </th>\n   <th style=\"text-align:left;\"> value </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> prog </td>\n   <td style=\"text-align:left;\"> Academic </td>\n   <td style=\"text-align:left;\"> Mean (sd) </td>\n   <td style=\"text-align:left;\"> 1.0 (1.3) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> General </td>\n   <td style=\"text-align:left;\"> Mean (sd) </td>\n   <td style=\"text-align:left;\"> 0.2 (0.4) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> Vocational </td>\n   <td style=\"text-align:left;\"> Mean (sd) </td>\n   <td style=\"text-align:left;\"> 0.2 (0.5) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> math </td>\n   <td style=\"text-align:left;\"> [33.0,75.0] </td>\n   <td style=\"text-align:left;\"> Mean (sd) </td>\n   <td style=\"text-align:left;\"> 0.6 (1.1) </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\n# Model Development\n\n- Given the specification of a poisson regression model below,\n\n$$\\log(mean\\_num\\_awards) = \\beta_0 + \\beta_1 prog + \\beta_2 math + u$$\n\n- Estimate and interpret the model results using `glm()` and the correct `family` parameter:\n\n## Coefficients\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npoisson.mod.1 <- poisson.mod.1 <- glm(num_awards ~ prog + math, \n                                      data = df, \n                                      family = poisson)\n\nsummary(poisson.mod.1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nglm(formula = num_awards ~ prog + math, family = poisson, data = df)\n\nCoefficients:\n               Estimate Std. Error z value Pr(>|z|)    \n(Intercept)    -4.16327    0.66288  -6.281 3.37e-10 ***\nprogGeneral    -1.08386    0.35825  -3.025  0.00248 ** \nprogVocational -0.71405    0.32001  -2.231  0.02566 *  \nmath            0.07015    0.01060   6.619 3.63e-11 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for poisson family taken to be 1)\n\n    Null deviance: 287.67  on 199  degrees of freedom\nResidual deviance: 189.45  on 196  degrees of freedom\nAIC: 373.5\n\nNumber of Fisher Scoring iterations: 6\n```\n\n\n:::\n:::\n\n\n\n\n- The `negative coefficients` of the `general` and `vocational programs` indicate that the number of wards is lower in these two programs.\n\n- The positive coefficients of `math` score indicates that the number of awards is increasing as the math score increases.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(exp(coef(poisson.mod.1)) - 1) * 100\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   (Intercept)    progGeneral progVocational           math \n    -98.444332     -66.171250     -51.034289       7.267164 \n```\n\n\n:::\n:::\n\n\n\n\nTo have a more convenient way to interpret these coefficients, we compute and use percentage changes\n  - Holding `program type constant`, 1 unit increase in math score increase the mean number of awards by 7%.\n\n  - Hold `math score constant`; \n    - a student in the `general program`, on average, receives 66% fewer awards than students in the `academic program`\n    - a student in the `vocational program`, on average, receives 51% fewer awards than students in the academic program\n\n### Anova()\n\n- Test the overall effect of prog using `Anova()`:   \n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nAnalysis of Deviance Table (Type II tests)\n\nResponse: num_awards\n     LR Chisq Df Pr(>Chisq)    \nprog   14.572  2  0.0006852 ***\nmath   45.010  1   1.96e-11 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\n\n\n- Based on the p-values, the prog, taken together, is a statistically significant predictor of the number of awards.\n\n\n## Plot the result \n\n- Plot the fitted values across the three programs and discuss how the number of awards is associated with math scores.\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-cd6df1a2bf85641baa9e\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-cd6df1a2bf85641baa9e\">{\"x\":{\"data\":[{\"x\":[38.01586435493082,44.667942989245056,42.899628448300064,48.731948816962543,46.354547948390248,40.981175755336878,43.272647850774227,49.136882030963896,41.874573986046016,40.736689283698794,50.020923390612005,44.274311245977877,51.804059005901216,48.002005312778053,44.702642448805271,49.845250135660173,43.056060531176627,54.224967377074066,45.024218992143872,43.231311969645319,49.19070502743125,53.058183955214915,49.628447346575555,47.854984366521236,50.946761957183483,45.107805573381484,53.631842180341479,51.344087356142701,52.788459151983261,50.243031077273187,56.902666941098872,51.237165350653228,48.817592543177305,48.375408662296834,51.977489039115611,53.269985958375038,59.271039254777136,66.112707202322781,57.326902300678192,54.062880971282723,53.698063265532255,53.857729434035718,54.016186277754606,48.801439363323155,58.27563511263579,59.982663402333856,51.302120793610811,62.624254539422694,50.339388904720543,52.875345080718397,52.691904920712112,54.973070429638028,56.282501717284319,48.639781390503046,60.877424372546372,57.035188709571955,66.096867100894457,59.668633888103066,57.381112602911891,59.231563715822993,58.19693942479789,57.161115951649847,63.934855577722189,61.13101552389562,55.128055628575382,56.824239153414965,61.716988511756064,55.81090696565807,50.847968015447258,63.064952661655845,60.836141880415383,67.120135211385787,48.159330639615654,61.395041495189069,65.138156635314232,62.169022526592016,61.040030344575641,63.898238548077643,65.247352400235826,56.999332493916157,72.154677088372409,62.114472831785676,58.084081098251048,63.299987142160532,63.995802341960371,71.748332071863118,63.707188479416075,69.077701314724976,70.010362645052368,65.984427117183799,61.921252756565806,67.373145820945496,63.691927807964383,63.245785421319304,67.941967334784565,74.610359229333696,69.106555748172099,65.122093525156373,70.99340956732631,70.85659051891416,60.211813932284713,70.891418315283957,71.169578156620261,72.01154403667897,73.090515052899718],\"y\":[0.091385873220860947,-0.15124043161049486,-0.14412905983626845,0.0075795899145305046,0.065927611663937569,1.0787724326364696,1.1667022339068354,-0.18616867801174522,0.077658043429255474,0.072879435960203409,-0.1662585566751659,0.077785705402493466,-0.11961921555921436,0.89312563203275208,0.17666374118998646,2.80469360826537,-0.13495952412486079,0.8336020057089627,1.1005885882303119,-0.074729344435036177,0.041645347420126211,0.91275204112753272,1.9073486797511578,0.11256686458364129,0.17398151475936174,-0.13117717541754248,0.1870822231285274,0.89506966648623343,-0.0036443020217120647,-0.0030214508995413669,1.0813109422102571,0.086987907439470269,0.055561944656074058,0.1482102098874748,-0.14570032684132458,1.0766303052194417,0.9993055699393153,2.0014195987023413,0.13640890121459964,1.0583132055588067,1.1896942117251457,-0.14867487493902445,-0.11612233966588975,1.9766577961854637,3.1270448165945708,0.88730572583153844,-0.042965366039425135,-0.095780323445796969,0.84841369474306705,1.071047521661967,0.083200250007212151,0.16089157173410057,0.86933039892464881,-0.024072291515767563,1.1504303987137974,-0.078556359186768537,-0.18375300047919155,2.891701219137758,1.0741565963253379,-0.075246363133192065,0.11581823565065863,0.037204425781965256,3.1386818022467198,1.0181041521020233,0.059291952196508624,2.9475696656852959,-0.024718957953155041,0.11152376476675274,-0.19641482755541803,1.1733938579447567,5.0745836716145281,0.013743921089917427,0.12689792625606061,0.82322934977710249,1.9450213683769106,4.0060077084228398,0.90783591186627743,1.1568151200190187,2.8836736235767604,3.1635185148566962,2.1485675536096096,-0.18663562098518016,0.81494034258648751,1.1053837710060179,2.8622522608377041,1.9400214066728949,-0.13840074436739089,6.0569043966010216,3.839735028333962,1.0504234440624713,1.9084266969934105,1.8319795800372958,1.0786986907012761,2.137746804766357,1.1167602343484759,0.81008876617997883,-0.0074790841899812222,0.84327527265995739,1.8918305295519531,4.8548494893126186,0.94895541360601787,1.8456295453943312,0.86089790156111123,-0.14525801865383983,2.8653204509988428],\"text\":[\"math: 38<br />num_awards: 0<br />prog: Academic\",\"math: 45<br />num_awards: 0<br />prog: Academic\",\"math: 43<br />num_awards: 0<br />prog: Academic\",\"math: 49<br />num_awards: 0<br />prog: Academic\",\"math: 46<br />num_awards: 0<br />prog: Academic\",\"math: 41<br />num_awards: 1<br />prog: Academic\",\"math: 43<br />num_awards: 1<br />prog: Academic\",\"math: 49<br />num_awards: 0<br />prog: Academic\",\"math: 42<br />num_awards: 0<br />prog: Academic\",\"math: 41<br />num_awards: 0<br />prog: Academic\",\"math: 50<br />num_awards: 0<br />prog: Academic\",\"math: 44<br />num_awards: 0<br />prog: Academic\",\"math: 52<br />num_awards: 0<br />prog: Academic\",\"math: 48<br />num_awards: 1<br />prog: Academic\",\"math: 45<br />num_awards: 0<br />prog: Academic\",\"math: 50<br />num_awards: 3<br />prog: Academic\",\"math: 43<br />num_awards: 0<br />prog: Academic\",\"math: 54<br />num_awards: 1<br />prog: Academic\",\"math: 45<br />num_awards: 1<br />prog: Academic\",\"math: 43<br />num_awards: 0<br />prog: Academic\",\"math: 49<br />num_awards: 0<br />prog: Academic\",\"math: 53<br />num_awards: 1<br />prog: Academic\",\"math: 50<br />num_awards: 2<br />prog: Academic\",\"math: 48<br />num_awards: 0<br />prog: Academic\",\"math: 51<br />num_awards: 0<br />prog: Academic\",\"math: 45<br />num_awards: 0<br />prog: Academic\",\"math: 54<br />num_awards: 0<br />prog: Academic\",\"math: 51<br />num_awards: 1<br />prog: Academic\",\"math: 53<br />num_awards: 0<br />prog: Academic\",\"math: 50<br />num_awards: 0<br />prog: Academic\",\"math: 57<br />num_awards: 1<br />prog: Academic\",\"math: 51<br />num_awards: 0<br />prog: Academic\",\"math: 49<br />num_awards: 0<br />prog: Academic\",\"math: 48<br />num_awards: 0<br />prog: Academic\",\"math: 52<br />num_awards: 0<br />prog: Academic\",\"math: 53<br />num_awards: 1<br />prog: Academic\",\"math: 59<br />num_awards: 1<br />prog: Academic\",\"math: 66<br />num_awards: 2<br />prog: Academic\",\"math: 57<br />num_awards: 0<br />prog: Academic\",\"math: 54<br />num_awards: 1<br />prog: Academic\",\"math: 54<br />num_awards: 1<br />prog: Academic\",\"math: 54<br />num_awards: 0<br />prog: Academic\",\"math: 54<br />num_awards: 0<br />prog: Academic\",\"math: 49<br />num_awards: 2<br />prog: Academic\",\"math: 58<br />num_awards: 3<br />prog: Academic\",\"math: 60<br />num_awards: 1<br />prog: Academic\",\"math: 51<br />num_awards: 0<br />prog: Academic\",\"math: 63<br />num_awards: 0<br />prog: Academic\",\"math: 50<br />num_awards: 1<br />prog: Academic\",\"math: 53<br />num_awards: 1<br />prog: Academic\",\"math: 53<br />num_awards: 0<br />prog: Academic\",\"math: 55<br />num_awards: 0<br />prog: Academic\",\"math: 56<br />num_awards: 1<br />prog: Academic\",\"math: 49<br />num_awards: 0<br />prog: Academic\",\"math: 61<br />num_awards: 1<br />prog: Academic\",\"math: 57<br />num_awards: 0<br />prog: Academic\",\"math: 66<br />num_awards: 0<br />prog: Academic\",\"math: 60<br />num_awards: 3<br />prog: Academic\",\"math: 57<br />num_awards: 1<br />prog: Academic\",\"math: 59<br />num_awards: 0<br />prog: Academic\",\"math: 58<br />num_awards: 0<br />prog: Academic\",\"math: 57<br />num_awards: 0<br />prog: Academic\",\"math: 64<br />num_awards: 3<br />prog: Academic\",\"math: 61<br />num_awards: 1<br />prog: Academic\",\"math: 55<br />num_awards: 0<br />prog: Academic\",\"math: 57<br />num_awards: 3<br />prog: Academic\",\"math: 62<br />num_awards: 0<br />prog: Academic\",\"math: 56<br />num_awards: 0<br />prog: Academic\",\"math: 51<br />num_awards: 0<br />prog: Academic\",\"math: 63<br />num_awards: 1<br />prog: Academic\",\"math: 61<br />num_awards: 5<br />prog: Academic\",\"math: 67<br />num_awards: 0<br />prog: Academic\",\"math: 48<br />num_awards: 0<br />prog: Academic\",\"math: 61<br />num_awards: 1<br />prog: Academic\",\"math: 65<br />num_awards: 2<br />prog: Academic\",\"math: 62<br />num_awards: 4<br />prog: Academic\",\"math: 61<br />num_awards: 1<br />prog: Academic\",\"math: 64<br />num_awards: 1<br />prog: Academic\",\"math: 65<br />num_awards: 3<br />prog: Academic\",\"math: 57<br />num_awards: 3<br />prog: Academic\",\"math: 72<br />num_awards: 2<br />prog: Academic\",\"math: 62<br />num_awards: 0<br />prog: Academic\",\"math: 58<br />num_awards: 1<br />prog: Academic\",\"math: 63<br />num_awards: 1<br />prog: Academic\",\"math: 64<br />num_awards: 3<br />prog: Academic\",\"math: 72<br />num_awards: 2<br />prog: Academic\",\"math: 64<br />num_awards: 0<br />prog: Academic\",\"math: 69<br />num_awards: 6<br />prog: Academic\",\"math: 70<br />num_awards: 4<br />prog: Academic\",\"math: 66<br />num_awards: 1<br />prog: Academic\",\"math: 62<br />num_awards: 2<br />prog: Academic\",\"math: 67<br />num_awards: 2<br />prog: Academic\",\"math: 64<br />num_awards: 1<br />prog: Academic\",\"math: 63<br />num_awards: 2<br />prog: Academic\",\"math: 68<br />num_awards: 1<br />prog: Academic\",\"math: 75<br />num_awards: 1<br />prog: Academic\",\"math: 69<br />num_awards: 0<br />prog: Academic\",\"math: 65<br />num_awards: 1<br />prog: Academic\",\"math: 71<br />num_awards: 2<br />prog: Academic\",\"math: 71<br />num_awards: 5<br />prog: Academic\",\"math: 60<br />num_awards: 1<br />prog: Academic\",\"math: 71<br />num_awards: 2<br />prog: Academic\",\"math: 71<br />num_awards: 1<br />prog: Academic\",\"math: 72<br />num_awards: 0<br />prog: Academic\",\"math: 73<br />num_awards: 3<br />prog: Academic\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(248,118,109,1)\",\"opacity\":0.5,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(248,118,109,1)\"}},\"hoveron\":\"points\",\"name\":\"Academic\",\"legendgroup\":\"Academic\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[40.759107198379937,42.069660862721506,38.975765164755288,42.723131847940387,41.766531938500705,44.190003795176743,45.76712923273444,42.26105981413275,43.093535942398013,56.810163993202153,38.758330977335575,45.94799527581781,43.001195125095549,42.030813374556601,53.774899063631892,44.867324098013341,53.856984397955237,41.367138422653078,46.041826416924593,45.827335633337498,60.942762085609139,48.79786507356912,48.624572868086396,57.164604944176972,42.198703785985707,55.105982745438816,51.996001479402182,56.894601185992357,34.660487625189127,49.920343166589738,55.088397605158391,49.138380400091407,55.828193262778221,59.653131577000025,53.696732845902446,58.223233704268935,55.832448604889215,59.675134606286882,60.968626793846489,56.79082939811051,48.070609464123848,57.73572786170989,55.951796525530519,63.244220117107034,58.254811226204041],\"y\":[0.15933657735586165,0.16083305701613426,0.022153700795024628,0.16658512651920321,-0.12716432316228748,1.1906856821849943,0.9615093527361751,-0.097738763876259335,0.11093898061662916,0.14373009596019987,-0.10200807694345713,-0.071323411073535681,-0.085710118059068918,0.9033623442985117,-0.077980424650013452,-0.018854424729943281,0.061487628612667322,0.0017932705581188146,-0.14948707735165956,-0.080876029003411537,0.13946290761232377,-0.03698267536237837,0.88924847291782494,-0.12040006006136537,0.071204189769923709,-0.054499659687280655,-0.14041396621614696,-0.13628245983272791,0.133133037481457,-0.023730112239718437,1.0119834597222508,0.037767105735838413,-0.13238379424437879,-0.028116502054035653,0.00037680435925721567,0.83512291479855771,-0.026109284069389116,-0.046284607518464332,-0.18210394699126484,0.057350494991987966,-0.16442610993981363,0.90711020464077596,0.96897440068423746,1.0512220025993884,-0.070547496713697921],\"text\":[\"math: 41<br />num_awards: 0<br />prog: General\",\"math: 42<br />num_awards: 0<br />prog: General\",\"math: 39<br />num_awards: 0<br />prog: General\",\"math: 43<br />num_awards: 0<br />prog: General\",\"math: 42<br />num_awards: 0<br />prog: General\",\"math: 44<br />num_awards: 1<br />prog: General\",\"math: 46<br />num_awards: 1<br />prog: General\",\"math: 42<br />num_awards: 0<br />prog: General\",\"math: 43<br />num_awards: 0<br />prog: General\",\"math: 57<br />num_awards: 0<br />prog: General\",\"math: 39<br />num_awards: 0<br />prog: General\",\"math: 46<br />num_awards: 0<br />prog: General\",\"math: 43<br />num_awards: 0<br />prog: General\",\"math: 42<br />num_awards: 1<br />prog: General\",\"math: 54<br />num_awards: 0<br />prog: General\",\"math: 45<br />num_awards: 0<br />prog: General\",\"math: 54<br />num_awards: 0<br />prog: General\",\"math: 41<br />num_awards: 0<br />prog: General\",\"math: 46<br />num_awards: 0<br />prog: General\",\"math: 46<br />num_awards: 0<br />prog: General\",\"math: 61<br />num_awards: 0<br />prog: General\",\"math: 49<br />num_awards: 0<br />prog: General\",\"math: 49<br />num_awards: 1<br />prog: General\",\"math: 57<br />num_awards: 0<br />prog: General\",\"math: 42<br />num_awards: 0<br />prog: General\",\"math: 55<br />num_awards: 0<br />prog: General\",\"math: 52<br />num_awards: 0<br />prog: General\",\"math: 57<br />num_awards: 0<br />prog: General\",\"math: 35<br />num_awards: 0<br />prog: General\",\"math: 50<br />num_awards: 0<br />prog: General\",\"math: 55<br />num_awards: 1<br />prog: General\",\"math: 49<br />num_awards: 0<br />prog: General\",\"math: 56<br />num_awards: 0<br />prog: General\",\"math: 60<br />num_awards: 0<br />prog: General\",\"math: 54<br />num_awards: 0<br />prog: General\",\"math: 58<br />num_awards: 1<br />prog: General\",\"math: 56<br />num_awards: 0<br />prog: General\",\"math: 60<br />num_awards: 0<br />prog: General\",\"math: 61<br />num_awards: 0<br />prog: General\",\"math: 57<br />num_awards: 0<br />prog: General\",\"math: 48<br />num_awards: 0<br />prog: General\",\"math: 58<br />num_awards: 1<br />prog: General\",\"math: 56<br />num_awards: 1<br />prog: General\",\"math: 63<br />num_awards: 1<br />prog: General\",\"math: 58<br />num_awards: 0<br />prog: General\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,186,56,1)\",\"opacity\":0.5,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(0,186,56,1)\"}},\"hoveron\":\"points\",\"name\":\"General\",\"legendgroup\":\"General\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[41.262477544136345,44.336365615949035,42.182675864361229,39.68795490376651,46.329984799958766,39.913240873254836,32.74349035676569,46.211174944043158,39.667249418795109,43.946811515837908,36.728567958995697,40.277032393217084,38.315284699201584,39.172779715619981,45.306071051955222,40.336106233298779,40.124327303655448,47.10553994625807,40.012518581561743,38.781998492032287,48.867160004004838,38.883808450773358,41.312506613694133,39.05298563428223,52.369198919646443,39.669734592363241,45.075033450126647,47.114648388512435,39.781170613318679,52.013529530540112,51.657945890724662,51.277815527282655,55.240136778354646,54.351567041687666,55.905404490046202,45.917045440711078,44.822943398356436,47.123065619356929,40.699938913807273,53.393416245467961,50.684995665028694,40.230987686291336,49.625469382107255,56.919663312099871,57.069677209481597,51.270657089911403,56.055044685676691,52.934232535958287,66.096101196669039,74.819472689367828],\"y\":[0.14340692749246958,-0.12510715890675783,-0.15616776132956148,-0.10494645508006216,-0.17440742580220103,-0.058406907040625816,0.18334734411910175,0.090855526179075219,-0.16939114555716517,0.15418766131624578,-0.066855407226830726,-0.11401543440297246,-0.08692050157114864,0.18857779232785105,-0.010982822254300112,-0.17682048566639424,0.17700610626488927,-0.097764362487941986,1.1686864221468567,1.0030654355883599,-0.17566079106181862,0.13932320280000571,1.0358185826800763,0.083968978095799673,-0.030325345136225229,0.049143403116613638,0.095726549718529008,0.0068037663586437702,1.1335801428183914,0.042849573493003834,1.005863153282553,0.84698719885200258,-0.025125885289162403,0.047291573975235229,-0.12034795619547367,-0.020818094257265329,-0.025276067294180388,0.077323596365749814,-0.035491923149675142,0.045678631961345667,1.0103659231215716,-0.1153837736696005,-0.082033937238156801,0.047933022119104857,-0.14215277181938291,1.1586859566159546,1.9690724413841962,0.066738403122872103,0.19463476892560722,1.8753003840334714],\"text\":[\"math: 41<br />num_awards: 0<br />prog: Vocational\",\"math: 44<br />num_awards: 0<br />prog: Vocational\",\"math: 42<br />num_awards: 0<br />prog: Vocational\",\"math: 40<br />num_awards: 0<br />prog: Vocational\",\"math: 46<br />num_awards: 0<br />prog: Vocational\",\"math: 40<br />num_awards: 0<br />prog: Vocational\",\"math: 33<br />num_awards: 0<br />prog: Vocational\",\"math: 46<br />num_awards: 0<br />prog: Vocational\",\"math: 40<br />num_awards: 0<br />prog: Vocational\",\"math: 44<br />num_awards: 0<br />prog: Vocational\",\"math: 37<br />num_awards: 0<br />prog: Vocational\",\"math: 40<br />num_awards: 0<br />prog: Vocational\",\"math: 38<br />num_awards: 0<br />prog: Vocational\",\"math: 39<br />num_awards: 0<br />prog: Vocational\",\"math: 45<br />num_awards: 0<br />prog: Vocational\",\"math: 40<br />num_awards: 0<br />prog: Vocational\",\"math: 40<br />num_awards: 0<br />prog: Vocational\",\"math: 47<br />num_awards: 0<br />prog: Vocational\",\"math: 40<br />num_awards: 1<br />prog: Vocational\",\"math: 39<br />num_awards: 1<br />prog: Vocational\",\"math: 49<br />num_awards: 0<br />prog: Vocational\",\"math: 39<br />num_awards: 0<br />prog: Vocational\",\"math: 41<br />num_awards: 1<br />prog: Vocational\",\"math: 39<br />num_awards: 0<br />prog: Vocational\",\"math: 52<br />num_awards: 0<br />prog: Vocational\",\"math: 40<br />num_awards: 0<br />prog: Vocational\",\"math: 45<br />num_awards: 0<br />prog: Vocational\",\"math: 47<br />num_awards: 0<br />prog: Vocational\",\"math: 40<br />num_awards: 1<br />prog: Vocational\",\"math: 52<br />num_awards: 0<br />prog: Vocational\",\"math: 52<br />num_awards: 1<br />prog: Vocational\",\"math: 51<br />num_awards: 1<br />prog: Vocational\",\"math: 55<br />num_awards: 0<br />prog: Vocational\",\"math: 54<br />num_awards: 0<br />prog: Vocational\",\"math: 56<br />num_awards: 0<br />prog: Vocational\",\"math: 46<br />num_awards: 0<br />prog: Vocational\",\"math: 45<br />num_awards: 0<br />prog: Vocational\",\"math: 47<br />num_awards: 0<br />prog: Vocational\",\"math: 41<br />num_awards: 0<br />prog: Vocational\",\"math: 53<br />num_awards: 0<br />prog: Vocational\",\"math: 51<br />num_awards: 1<br />prog: Vocational\",\"math: 40<br />num_awards: 0<br />prog: Vocational\",\"math: 50<br />num_awards: 0<br />prog: Vocational\",\"math: 57<br />num_awards: 0<br />prog: Vocational\",\"math: 57<br />num_awards: 0<br />prog: Vocational\",\"math: 51<br />num_awards: 1<br />prog: Vocational\",\"math: 56<br />num_awards: 2<br />prog: Vocational\",\"math: 53<br />num_awards: 0<br />prog: Vocational\",\"math: 66<br />num_awards: 0<br />prog: Vocational\",\"math: 75<br />num_awards: 2<br />prog: Vocational\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(97,156,255,1)\",\"opacity\":0.5,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(97,156,255,1)\"}},\"hoveron\":\"points\",\"name\":\"Vocational\",\"legendgroup\":\"Vocational\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[38,41,41,42,43,43,43,43,44,45,45,45,45,46,48,48,48,48,49,49,49,49,49,49,50,50,50,50,50,51,51,51,51,51,52,52,53,53,53,53,53,54,54,54,54,54,54,55,55,56,56,57,57,57,57,57,57,57,58,58,58,59,59,60,60,60,61,61,61,61,61,62,62,62,62,63,63,63,63,64,64,64,64,64,65,65,65,66,66,66,67,67,68,69,69,70,71,71,71,71,72,72,72,73,75],\"y\":[0.22369446625155492,0.27609315401160389,0.27609315401160389,0.2961572966565304,0.31767953347810218,0.31767953347810218,0.31767953347810218,0.31767953347810218,0.34076582657325966,0.36552983847844006,0.36552983847844006,0.36552983847844006,0.36552983847844006,0.39209349177315406,0.45115235831258804,0.45115235831258804,0.45115235831258804,0.45115235831258804,0.48393834065316543,0.48393834065316543,0.48393834065316543,0.48393834065316543,0.48393834065316543,0.48393834065316543,0.51910693414102149,0.51910693414102149,0.51910693414102149,0.51910693414102149,0.51910693414102149,0.55683128703873264,0.55683128703873264,0.55683128703873264,0.55683128703873264,0.55683128703873264,0.59729713057729994,0.59729713057729994,0.64070369338111566,0.64070369338111566,0.64070369338111566,0.64070369338111566,0.64070369338111566,0.68726468234569404,0.68726468234569404,0.68726468234569404,0.68726468234569404,0.68726468234569404,0.68726468234569404,0.73720933479739725,0.73720933479739725,0.7907835471153335,0.7907835471153335,0.84825108537206273,0.84825108537206273,0.84825108537206273,0.84825108537206273,0.84825108537206273,0.84825108537206273,0.84825108537206273,0.90989488395355023,0.90989488395355023,0.90989488395355023,0.97601843855195747,0.97601843855195747,1.0469473003895158,1.0469473003895158,1.0469473003895158,1.123030679030093,1.123030679030093,1.123030679030093,1.123030679030093,1.123030679030093,1.2046431616697071,1.2046431616697071,1.2046431616697071,1.2046431616697071,1.2921865573707123,1.2921865573707123,1.2921865573707123,1.2921865573707123,1.3860918753194964,1.3860918753194964,1.3860918753194964,1.3860918753194964,1.3860918753194964,1.4868214468474272,1.4868214468474272,1.4868214468474272,1.5948712016625326,1.5948712016625326,1.5948712016625326,1.7107731094986729,1.7107731094986729,1.8350977992033781,1.9684573681590776,1.9684573681590776,2.1115083958696022,2.2649551765489493,2.2649551765489493,2.2649551765489493,2.2649551765489493,2.4295531866275786,2.4295531866275786,2.4295531866275786,2.6061128042480974,2.9986571119762258],\"text\":[\"math: 38<br />fitted_values: 0.22369447<br />prog: Academic\",\"math: 41<br />fitted_values: 0.27609315<br />prog: Academic\",\"math: 41<br />fitted_values: 0.27609315<br />prog: Academic\",\"math: 42<br />fitted_values: 0.29615730<br />prog: Academic\",\"math: 43<br />fitted_values: 0.31767953<br />prog: Academic\",\"math: 43<br />fitted_values: 0.31767953<br />prog: Academic\",\"math: 43<br />fitted_values: 0.31767953<br />prog: Academic\",\"math: 43<br />fitted_values: 0.31767953<br />prog: Academic\",\"math: 44<br />fitted_values: 0.34076583<br />prog: Academic\",\"math: 45<br />fitted_values: 0.36552984<br />prog: Academic\",\"math: 45<br />fitted_values: 0.36552984<br />prog: Academic\",\"math: 45<br />fitted_values: 0.36552984<br />prog: Academic\",\"math: 45<br />fitted_values: 0.36552984<br />prog: Academic\",\"math: 46<br />fitted_values: 0.39209349<br />prog: Academic\",\"math: 48<br />fitted_values: 0.45115236<br />prog: Academic\",\"math: 48<br />fitted_values: 0.45115236<br />prog: Academic\",\"math: 48<br />fitted_values: 0.45115236<br />prog: Academic\",\"math: 48<br />fitted_values: 0.45115236<br />prog: Academic\",\"math: 49<br />fitted_values: 0.48393834<br />prog: Academic\",\"math: 49<br />fitted_values: 0.48393834<br />prog: Academic\",\"math: 49<br />fitted_values: 0.48393834<br />prog: Academic\",\"math: 49<br />fitted_values: 0.48393834<br />prog: Academic\",\"math: 49<br />fitted_values: 0.48393834<br />prog: Academic\",\"math: 49<br />fitted_values: 0.48393834<br />prog: Academic\",\"math: 50<br />fitted_values: 0.51910693<br />prog: Academic\",\"math: 50<br />fitted_values: 0.51910693<br />prog: Academic\",\"math: 50<br />fitted_values: 0.51910693<br />prog: Academic\",\"math: 50<br />fitted_values: 0.51910693<br />prog: Academic\",\"math: 50<br />fitted_values: 0.51910693<br />prog: Academic\",\"math: 51<br />fitted_values: 0.55683129<br />prog: Academic\",\"math: 51<br />fitted_values: 0.55683129<br />prog: Academic\",\"math: 51<br />fitted_values: 0.55683129<br />prog: Academic\",\"math: 51<br />fitted_values: 0.55683129<br />prog: Academic\",\"math: 51<br />fitted_values: 0.55683129<br />prog: Academic\",\"math: 52<br />fitted_values: 0.59729713<br />prog: Academic\",\"math: 52<br />fitted_values: 0.59729713<br />prog: Academic\",\"math: 53<br />fitted_values: 0.64070369<br />prog: Academic\",\"math: 53<br />fitted_values: 0.64070369<br />prog: Academic\",\"math: 53<br />fitted_values: 0.64070369<br />prog: Academic\",\"math: 53<br />fitted_values: 0.64070369<br />prog: Academic\",\"math: 53<br />fitted_values: 0.64070369<br />prog: Academic\",\"math: 54<br />fitted_values: 0.68726468<br />prog: Academic\",\"math: 54<br />fitted_values: 0.68726468<br />prog: Academic\",\"math: 54<br />fitted_values: 0.68726468<br />prog: Academic\",\"math: 54<br />fitted_values: 0.68726468<br />prog: Academic\",\"math: 54<br />fitted_values: 0.68726468<br />prog: Academic\",\"math: 54<br />fitted_values: 0.68726468<br />prog: Academic\",\"math: 55<br />fitted_values: 0.73720933<br />prog: Academic\",\"math: 55<br />fitted_values: 0.73720933<br />prog: Academic\",\"math: 56<br />fitted_values: 0.79078355<br />prog: Academic\",\"math: 56<br />fitted_values: 0.79078355<br />prog: Academic\",\"math: 57<br />fitted_values: 0.84825109<br />prog: Academic\",\"math: 57<br />fitted_values: 0.84825109<br />prog: Academic\",\"math: 57<br />fitted_values: 0.84825109<br />prog: Academic\",\"math: 57<br />fitted_values: 0.84825109<br />prog: Academic\",\"math: 57<br />fitted_values: 0.84825109<br />prog: Academic\",\"math: 57<br />fitted_values: 0.84825109<br />prog: Academic\",\"math: 57<br />fitted_values: 0.84825109<br />prog: Academic\",\"math: 58<br />fitted_values: 0.90989488<br />prog: Academic\",\"math: 58<br />fitted_values: 0.90989488<br />prog: Academic\",\"math: 58<br />fitted_values: 0.90989488<br />prog: Academic\",\"math: 59<br />fitted_values: 0.97601844<br />prog: Academic\",\"math: 59<br />fitted_values: 0.97601844<br />prog: Academic\",\"math: 60<br />fitted_values: 1.04694730<br />prog: Academic\",\"math: 60<br />fitted_values: 1.04694730<br />prog: Academic\",\"math: 60<br />fitted_values: 1.04694730<br />prog: Academic\",\"math: 61<br />fitted_values: 1.12303068<br />prog: Academic\",\"math: 61<br />fitted_values: 1.12303068<br />prog: Academic\",\"math: 61<br />fitted_values: 1.12303068<br />prog: Academic\",\"math: 61<br />fitted_values: 1.12303068<br />prog: Academic\",\"math: 61<br />fitted_values: 1.12303068<br />prog: Academic\",\"math: 62<br />fitted_values: 1.20464316<br />prog: Academic\",\"math: 62<br />fitted_values: 1.20464316<br />prog: Academic\",\"math: 62<br />fitted_values: 1.20464316<br />prog: Academic\",\"math: 62<br />fitted_values: 1.20464316<br />prog: Academic\",\"math: 63<br />fitted_values: 1.29218656<br />prog: Academic\",\"math: 63<br />fitted_values: 1.29218656<br />prog: Academic\",\"math: 63<br />fitted_values: 1.29218656<br />prog: Academic\",\"math: 63<br />fitted_values: 1.29218656<br />prog: Academic\",\"math: 64<br />fitted_values: 1.38609188<br />prog: Academic\",\"math: 64<br />fitted_values: 1.38609188<br />prog: Academic\",\"math: 64<br />fitted_values: 1.38609188<br />prog: Academic\",\"math: 64<br />fitted_values: 1.38609188<br />prog: Academic\",\"math: 64<br />fitted_values: 1.38609188<br />prog: Academic\",\"math: 65<br />fitted_values: 1.48682145<br />prog: Academic\",\"math: 65<br />fitted_values: 1.48682145<br />prog: Academic\",\"math: 65<br />fitted_values: 1.48682145<br />prog: Academic\",\"math: 66<br />fitted_values: 1.59487120<br />prog: Academic\",\"math: 66<br />fitted_values: 1.59487120<br />prog: Academic\",\"math: 66<br />fitted_values: 1.59487120<br />prog: Academic\",\"math: 67<br />fitted_values: 1.71077311<br />prog: Academic\",\"math: 67<br />fitted_values: 1.71077311<br />prog: Academic\",\"math: 68<br />fitted_values: 1.83509780<br />prog: Academic\",\"math: 69<br />fitted_values: 1.96845737<br />prog: Academic\",\"math: 69<br />fitted_values: 1.96845737<br />prog: Academic\",\"math: 70<br />fitted_values: 2.11150840<br />prog: Academic\",\"math: 71<br />fitted_values: 2.26495518<br />prog: Academic\",\"math: 71<br />fitted_values: 2.26495518<br />prog: Academic\",\"math: 71<br />fitted_values: 2.26495518<br />prog: Academic\",\"math: 71<br />fitted_values: 2.26495518<br />prog: Academic\",\"math: 72<br />fitted_values: 2.42955319<br />prog: Academic\",\"math: 72<br />fitted_values: 2.42955319<br />prog: Academic\",\"math: 72<br />fitted_values: 2.42955319<br />prog: Academic\",\"math: 73<br />fitted_values: 2.60611280<br />prog: Academic\",\"math: 75<br />fitted_values: 2.99865711<br />prog: Academic\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":3.7795275590551185,\"color\":\"rgba(248,118,109,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"Academic\",\"legendgroup\":\"Academic\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[35,39,39,41,41,42,42,42,42,42,43,43,43,44,45,46,46,46,46,48,49,49,49,50,52,54,54,54,55,55,56,56,56,57,57,57,57,58,58,58,60,60,61,61,63],\"y\":[0.061311338470096857,0.081172326521828791,0.081172326521828791,0.093398863557851736,0.093398863557851736,0.10018631226518189,0.10018631226518189,0.10018631226518189,0.10018631226518189,0.10018631226518189,0.10746701601009717,0.10746701601009717,0.10746701601009717,0.11527682044574271,0.12365417618770996,0.13264032812093318,0.13264032812093318,0.13264032812093318,0.13264032812093318,0.15261920458943895,0.16371029267599477,0.16371029267599477,0.16371029267599477,0.17560738833725037,0.20205815461813637,0.23249305302165507,0.23249305302165507,0.23249305302165507,0.24938870476818439,0.24938870476818439,0.26751219125742925,0.26751219125742925,0.26751219125742925,0.28695274125534881,0.28695274125534881,0.28695274125534881,0.28695274125534881,0.30780606792877319,0.30780606792877319,0.30780606792877319,0.35416918761133737,0.35416918761133737,0.37990724376166479,0.37990724376166479,0.43713056339703699],\"text\":[\"math: 35<br />fitted_values: 0.06131134<br />prog: General\",\"math: 39<br />fitted_values: 0.08117233<br />prog: General\",\"math: 39<br />fitted_values: 0.08117233<br />prog: General\",\"math: 41<br />fitted_values: 0.09339886<br />prog: General\",\"math: 41<br />fitted_values: 0.09339886<br />prog: General\",\"math: 42<br />fitted_values: 0.10018631<br />prog: General\",\"math: 42<br />fitted_values: 0.10018631<br />prog: General\",\"math: 42<br />fitted_values: 0.10018631<br />prog: General\",\"math: 42<br />fitted_values: 0.10018631<br />prog: General\",\"math: 42<br />fitted_values: 0.10018631<br />prog: General\",\"math: 43<br />fitted_values: 0.10746702<br />prog: General\",\"math: 43<br />fitted_values: 0.10746702<br />prog: General\",\"math: 43<br />fitted_values: 0.10746702<br />prog: General\",\"math: 44<br />fitted_values: 0.11527682<br />prog: General\",\"math: 45<br />fitted_values: 0.12365418<br />prog: General\",\"math: 46<br />fitted_values: 0.13264033<br />prog: General\",\"math: 46<br />fitted_values: 0.13264033<br />prog: General\",\"math: 46<br />fitted_values: 0.13264033<br />prog: General\",\"math: 46<br />fitted_values: 0.13264033<br />prog: General\",\"math: 48<br />fitted_values: 0.15261920<br />prog: General\",\"math: 49<br />fitted_values: 0.16371029<br />prog: General\",\"math: 49<br />fitted_values: 0.16371029<br />prog: General\",\"math: 49<br />fitted_values: 0.16371029<br />prog: General\",\"math: 50<br />fitted_values: 0.17560739<br />prog: General\",\"math: 52<br />fitted_values: 0.20205815<br />prog: General\",\"math: 54<br />fitted_values: 0.23249305<br />prog: General\",\"math: 54<br />fitted_values: 0.23249305<br />prog: General\",\"math: 54<br />fitted_values: 0.23249305<br />prog: General\",\"math: 55<br />fitted_values: 0.24938870<br />prog: General\",\"math: 55<br />fitted_values: 0.24938870<br />prog: General\",\"math: 56<br />fitted_values: 0.26751219<br />prog: General\",\"math: 56<br />fitted_values: 0.26751219<br />prog: General\",\"math: 56<br />fitted_values: 0.26751219<br />prog: General\",\"math: 57<br />fitted_values: 0.28695274<br />prog: General\",\"math: 57<br />fitted_values: 0.28695274<br />prog: General\",\"math: 57<br />fitted_values: 0.28695274<br />prog: General\",\"math: 57<br />fitted_values: 0.28695274<br />prog: General\",\"math: 58<br />fitted_values: 0.30780607<br />prog: General\",\"math: 58<br />fitted_values: 0.30780607<br />prog: General\",\"math: 58<br />fitted_values: 0.30780607<br />prog: General\",\"math: 60<br />fitted_values: 0.35416919<br />prog: General\",\"math: 60<br />fitted_values: 0.35416919<br />prog: General\",\"math: 61<br />fitted_values: 0.37990724<br />prog: General\",\"math: 61<br />fitted_values: 0.37990724<br />prog: General\",\"math: 63<br />fitted_values: 0.43713056<br />prog: General\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":3.7795275590551185,\"color\":\"rgba(0,186,56,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"General\",\"legendgroup\":\"General\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[33,37,38,39,39,39,39,40,40,40,40,40,40,40,40,40,40,41,41,41,42,44,44,45,45,45,46,46,46,47,47,47,49,50,51,51,51,52,52,52,53,53,54,55,56,56,57,57,66,75],\"y\":[0.077128219677562879,0.10211287484398937,0.10953358505351242,0.1174935704533369,0.1174935704533369,0.1174935704533369,0.1174935704533369,0.12603202105663719,0.12603202105663719,0.12603202105663719,0.12603202105663719,0.12603202105663719,0.12603202105663719,0.12603202105663719,0.12603202105663719,0.12603202105663719,0.12603202105663719,0.13519097487916648,0.13519097487916648,0.13519097487916648,0.14501552490827826,0.16685840858628367,0.16685840858628367,0.17898428299764238,0.17898428299764238,0.17898428299764238,0.19199136460428601,0.19199136460428601,0.19199136460428601,0.20594369217939346,0.20594369217939346,0.20594369217939346,0.23696384754095676,0.25418439926297642,0.2726563967421784,0.2726563967421784,0.2726563967421784,0.29247078459569548,0.29247078459569548,0.29247078459569548,0.31372511653525154,0.31372511653525154,0.33652403566091343,0.3609797896585773,0.38721278343770171,0.38721278343770171,0.41535217193013246,0.41535217193013246,0.78094001762319532,1.4683137644165336],\"text\":[\"math: 33<br />fitted_values: 0.07712822<br />prog: Vocational\",\"math: 37<br />fitted_values: 0.10211287<br />prog: Vocational\",\"math: 38<br />fitted_values: 0.10953359<br />prog: Vocational\",\"math: 39<br />fitted_values: 0.11749357<br />prog: Vocational\",\"math: 39<br />fitted_values: 0.11749357<br />prog: Vocational\",\"math: 39<br />fitted_values: 0.11749357<br />prog: Vocational\",\"math: 39<br />fitted_values: 0.11749357<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 40<br />fitted_values: 0.12603202<br />prog: Vocational\",\"math: 41<br />fitted_values: 0.13519097<br />prog: Vocational\",\"math: 41<br />fitted_values: 0.13519097<br />prog: Vocational\",\"math: 41<br />fitted_values: 0.13519097<br />prog: Vocational\",\"math: 42<br />fitted_values: 0.14501552<br />prog: Vocational\",\"math: 44<br />fitted_values: 0.16685841<br />prog: Vocational\",\"math: 44<br />fitted_values: 0.16685841<br />prog: Vocational\",\"math: 45<br />fitted_values: 0.17898428<br />prog: Vocational\",\"math: 45<br />fitted_values: 0.17898428<br />prog: Vocational\",\"math: 45<br />fitted_values: 0.17898428<br />prog: Vocational\",\"math: 46<br />fitted_values: 0.19199136<br />prog: Vocational\",\"math: 46<br />fitted_values: 0.19199136<br />prog: Vocational\",\"math: 46<br />fitted_values: 0.19199136<br />prog: Vocational\",\"math: 47<br />fitted_values: 0.20594369<br />prog: Vocational\",\"math: 47<br />fitted_values: 0.20594369<br />prog: Vocational\",\"math: 47<br />fitted_values: 0.20594369<br />prog: Vocational\",\"math: 49<br />fitted_values: 0.23696385<br />prog: Vocational\",\"math: 50<br />fitted_values: 0.25418440<br />prog: Vocational\",\"math: 51<br />fitted_values: 0.27265640<br />prog: Vocational\",\"math: 51<br />fitted_values: 0.27265640<br />prog: Vocational\",\"math: 51<br />fitted_values: 0.27265640<br />prog: Vocational\",\"math: 52<br />fitted_values: 0.29247078<br />prog: Vocational\",\"math: 52<br />fitted_values: 0.29247078<br />prog: Vocational\",\"math: 52<br />fitted_values: 0.29247078<br />prog: Vocational\",\"math: 53<br />fitted_values: 0.31372512<br />prog: Vocational\",\"math: 53<br />fitted_values: 0.31372512<br />prog: Vocational\",\"math: 54<br />fitted_values: 0.33652404<br />prog: Vocational\",\"math: 55<br />fitted_values: 0.36097979<br />prog: Vocational\",\"math: 56<br />fitted_values: 0.38721278<br />prog: Vocational\",\"math: 56<br />fitted_values: 0.38721278<br />prog: Vocational\",\"math: 57<br />fitted_values: 0.41535217<br />prog: Vocational\",\"math: 57<br />fitted_values: 0.41535217<br />prog: Vocational\",\"math: 66<br />fitted_values: 0.78094002<br />prog: Vocational\",\"math: 75<br />fitted_values: 1.46831376<br />prog: Vocational\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":3.7795275590551185,\"color\":\"rgba(97,156,255,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"Vocational\",\"legendgroup\":\"Vocational\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":26.228310502283104,\"r\":7.3059360730593621,\"b\":40.182648401826491,\"l\":31.415525114155255},\"plot_bgcolor\":\"rgba(235,235,235,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[30.630664874603976,77.112825482161711],\"tickmode\":\"array\",\"ticktext\":[\"40\",\"50\",\"60\",\"70\"],\"tickvals\":[40,50,60,70],\"categoryorder\":\"array\",\"categoryarray\":[\"40\",\"50\",\"60\",\"70\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Math Score\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.50908078876324003,6.3695703578088434],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"2\",\"4\",\"6\"],\"tickvals\":[0,2,4,6],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"2\",\"4\",\"6\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0.66417600664176002,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Expected number of awards\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"prog\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"1c0423ca2d97\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"1c0432ae48de\":{\"x\":{},\"y\":{},\"colour\":{}}},\"cur_data\":\"1c0423ca2d97\",\"visdat\":{\"1c0423ca2d97\":[\"function (y) \",\"x\"],\"1c0432ae48de\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n- This graph indicates that the most awards are earned by students in the `academic` program, especially if the student has a high math score. \n\n- Students in the `general program` earn the lowest number of awards\n\n## CI of cofficients\n\n- Construct and interpret the confidence intervals for each variable using `confint()`.\n    \n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWaiting for profiling to be done...\n```\n\n\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>beta interval</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> 2.5 % </th>\n   <th style=\"text-align:right;\"> 97.5 % </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> (Intercept) </td>\n   <td style=\"text-align:right;\"> -5.4857279 </td>\n   <td style=\"text-align:right;\"> -2.8857230 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> progGeneral </td>\n   <td style=\"text-align:right;\"> -1.8558691 </td>\n   <td style=\"text-align:right;\"> -0.4350439 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> progVocational </td>\n   <td style=\"text-align:right;\"> -1.3905775 </td>\n   <td style=\"text-align:right;\"> -0.1261624 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> math </td>\n   <td style=\"text-align:right;\"> 0.0494967 </td>\n   <td style=\"text-align:right;\"> 0.0910770 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>beta interval</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> 2.5 % </th>\n   <th style=\"text-align:right;\"> 97.5 % </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> (Intercept) </td>\n   <td style=\"text-align:right;\"> -99.585448 </td>\n   <td style=\"text-align:right;\"> -94.418558 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> progGeneral </td>\n   <td style=\"text-align:right;\"> -84.368296 </td>\n   <td style=\"text-align:right;\"> -35.276377 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> progVocational </td>\n   <td style=\"text-align:right;\"> -75.106849 </td>\n   <td style=\"text-align:right;\"> -11.852828 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> math </td>\n   <td style=\"text-align:right;\"> 5.074217 </td>\n   <td style=\"text-align:right;\"> 9.535332 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n- at $\\alpha = 0.05$, Compared to the students in `academic program`, the mean number of awards that students in `General program` decreases by 35% to 84% holding the math score constant.\n\n- With 95% confidence, the mean number of awards decrease by 11% to 75% for the student in `vocational program` vs. student in `academic programs`, holding the math score constant.\n\n-  95% confidence interval of a the effect of 1-unit increase in math score on the mean number of award holding everything else constant is `5.07% to 9.53% increase` \n\n\n\\newpage\n\n# Model Comparison Criteria\n\n[LINK1](https://stats.stackexchange.com/questions/232465/how-to-compare-models-on-the-basis-of-aic)\n[LINK2](https://www.scribbr.com/statistics/akaike-information-criterion/)\n\nRecall that the general form of most information criteria is:\n\n$$\\text{IC}(k)=-2log(L(\\hat{\\beta}|y_1,.....,y_n))+kr$$\n\nWhere \n\n- $\\text{log}(L(\\hat{\\beta}|y_1,.....,y_n))$ is the log-likelihood of an estimated model, - `n` is the sample size, \n- `r` is the number of parameters in the model, \n- `k` is a penalty term on the number of parameters. \n\nThe three most common information criteria are:\n\n## AIC\n\n$$AIC = IC(2) = -2log(L(\\hat{\\beta}|y_1,.....,y_n))+2r$$\n\n## AIC_c\n\n$$AIC_c = IC(\\frac{2n}{n-r-1}) = -2log(L(\\hat{\\beta}|y_1,.....,y_n))+r\\frac{2n}{n-r-1}=AIC+\\frac{2r(r+1)}{n-r-1}$$\n\n## BIC\n\n$$BIC = IC(log(n)) = -2log(L(\\hat{\\beta}|y_1,.....,y_n))+rlog(n)$$\n\n## Example\n\n- Compute these three information criteria for the following three models and then rank the models based on each criterion using `AIC()`, `BIC()`, and `AICc()`.  \n\n$$\\text{mod.1:   }\\log(mean\\_num\\_awards) = \\beta_0 + \\beta_1 prog + u  $$\n$$\\text{mod.2:   }\\log(mean\\_num\\_awards) = \\beta_0 + \\beta_1 math + u$$\n\n$$\\text{mod.3:   }\\log(mean\\_num\\_awards) = \\beta_0 + \\beta_1 prog + \\beta_2 math + u$$\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n     mod.1    mod.2    mod.3\n1 384.0762 416.5149 373.5045\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     mod.1    mod.2    mod.3\n1 384.1371 416.6373 373.7096\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     mod.1    mod.2    mod.3\n1 390.6728 426.4098 386.6978\n```\n\n\n:::\n:::\n\n\n\n\n- The model with the `lowest` AIC, corrected AIC, or BIC score is preferred. \n  - The absolute values of these scores do not matter.\n\n- These scores can be negative or positive.\n  - Based on all these three criteria, the third model with both math and program is the best, and the second model with the only program is the worst model\n\n\n# Model Assessment\n\nRecall that the Pearson residuals correct for unequal variance in the raw residuals by dividing by the standard deviation:\n\n$$e_m = \\frac{y_m - \\widehat{y_m}}{\\sqrt{\\widehat{\\text{V}(Y_m)}}}$$\n\nStandardized Pearson residuals also correct for overestimates of the standard deviation of $y_m - \\widehat{y_m}$:\n\n$$r_m = \\frac{y_m - \\widehat{y_m}}{\\sqrt{\\widehat{\\text{V}(Y_m-\\hat{Y_m})}}}=\\frac{y_m - \\widehat{y_m}}{\\sqrt{\\widehat{\\text{V}(Y_m)}-(1-h_m)}}$$\nwhere $h_m$ is the mth diagonal element of the hat matrix.\n\n- For the first Poisson model using `prog` and `math` as predictors, plot the standardized Pearson residuals against explanatory variables, fitted values, and the linear predictor to assess whether the model assumptions are satisfied. \n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](wk5_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](wk5_files/figure-html/unnamed-chunk-15-2.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](wk5_files/figure-html/unnamed-chunk-15-3.png){width=672}\n:::\n:::\n\n\n\n\nWe have four assumptions general assumptions for Poisson regression\n\n- 1. IID data.\n- 2. The distribution of the response is the one specified by the model, which here is Poisson.\n- 3. The mean of the distribution is linked to the explanatory variables by the `link function` that we specify. In Poisson is is log().\n\n- 4. The link relates to the explanatory variables in a `linear fashion`. Here linearity means using a linear combination of the regression parameters.\n  - For `iid data`, we must discuss how the data is generated and look for possible clustering. \n    - Here there could be some clustering among the students who are in the same program or same classroom, or same cohort, which would violate independence.\n\n  - The plot of the standardized residuals against `math` shows roughly the same variance throughout the math score range. \n    - There is no severe curvature in the plot, suggesting we don’t need a transformation or additional polynomial terms.\n\n    - Similarly, the plots of `residuals against the fitted values` and `linear predictor` have roughly constant variance. \n      - They show no evident curvature, so we can conclude that the link function fits well here.\n\n- We can also use these plots to check for `extreme residuals`. In this case, there are numerous residuals whose magnitudes are larger than 2 or 3, scattered across the range of math scores. \n\n- This may be a sign of `overdispersion`, meaning more variability in the\ncounts than the model estimated. \n\n- This is an indication that there may be important explanatory variables missing from the model\n\n\n\n\\newpage\n\n# Goodness of Fit\n\n$$H_0: \\text{Our Model is correct}$$\n- The Pearson Statistic $\\chi^2$ and Residual Deviance $D$ are often used to test the goodness of fit, where the null hypothesis is that our model is correct. Under asymptotic theory, both of these follow a chi-squared distribution with the same degrees of freedom as the residuals from the Poisson model.\n\nWe can also use these to test for overdispersion in our model since if our model is a good fit to the data we should not have overdispersion.\n\n## The Pearson Statistics\n\n\n$$\\chi^2=\\sum_{i=1}^{n}\\frac{(y_{i}-\\exp\\{\\textbf{X}_{i}\\hat{\\beta}\\})^{2}}{\\exp\\{\\textbf{X}_{i}\\hat{\\beta}\\}}$$\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate Pearson statistic residuals\npearson_stat <- sum(residuals(poisson.mod.1, type = \"pearson\")^2)\npearson_stat\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 212.1437\n```\n\n\n:::\n\n```{.r .cell-code}\n# Get p value associated with the pearson statistic\npearson_p.value <- pchisq(pearson_stat, poisson.mod.1$df.residual,\nlower.tail = FALSE)\npearson_p.value\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.203986\n```\n\n\n:::\n:::\n\n\n\n\n\n## Residual Deviance \n\n$$D=2\\sum_{i=1}^{n}\\biggl[y_{i}\\log\\biggl(\\frac{y_{i}}{\\exp\\{\\textbf{X}_{i}\\hat{\\beta}\\}}\\biggr)-(y_{i}-\\exp\\{\\textbf{X}_{i}\\hat{\\beta}\\})\\biggr]$$\n\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.6182274\n```\n\n\n:::\n:::\n\n\n\n\n- `Goodness-of-fit statistics` test is a more objective measure of the overall fit.\n\n- The null hypothesis is that the model is correct against the alternative that it is not.\n- We can use both Pearson statistic or the residual deviance to perform this test\n\n- Here, the two non significant p-values indicate that we `fail to reject the null hypothesis that the model is correct`\n\n\n\\newpage\n\n# Directly Testing for Over Dispersion\n\nWe can use a dispersion test for Poisson regression from the AER package that tests the null hypothesis that \n\n$$\\theta=1$$ \n\nvs. not in a regression of the form \n\n$$\\text{V}(Y_i)=(1+\\alpha)*\\lambda_i$$\n\n- Note that if we set $(1+\\alpha)=\\theta$ we get the variance form for a quasipoisson above. \n\n- So this test is examining whether the variance of our outcome variable appears to come from a Poisson or quasipoisson distribution.\n\nIf we reject the null hypothesis due to a small p-value, we have overdispersion if $\\alpha>0$ and underdispersion (smaller variance in reality which is less common) if $\\alpha<0$.\n\nThe test itself reports the estimated dispersion value along with a p-value.\n\nRun the test using `dispersiontest()`:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# replace with your code\ndispersiontest(poisson.mod.1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tOverdispersion test\n\ndata:  poisson.mod.1\nz = 0.53224, p-value = 0.2973\nalternative hypothesis: true dispersion is greater than 1\nsample estimates:\ndispersion \n  1.047254 \n```\n\n\n:::\n:::\n\n\n\n\n- Note the dispersion estimate above 1 but lack of significant `p-value` since it is larger than 0.05. \n  - This means we fail to reject the $H_0$ that poission regression is value.\n\n- If we reject the $H_0$ in an overdispersion test, that means we should fit a quasipoisson or `negative binomial regression`.\n\n- We can fit quasipoisson directly using `glm()` and specifying the appropriate family. \n- For a negative binomial using regression, we need to use `glm.nb()` from the MASS package.\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\n===========================================================\n                             Dependent variable:           \n                  -----------------------------------------\n                                 num_awards                \n                   Poisson  glm: quasipoisson   negative   \n                               link = log       binomial   \n                     (1)           (2)             (3)     \n-----------------------------------------------------------\nprogGeneral       -1.084***     -1.084***       -1.075***  \n                   (0.358)       (0.373)         (0.367)   \n                                                           \nprogVocational    -0.714**      -0.714**        -0.708**   \n                   (0.320)       (0.333)         (0.334)   \n                                                           \nmath              0.070***      0.070***        0.071***   \n                   (0.011)       (0.011)         (0.012)   \n                                                           \nConstant          -4.163***     -4.163***       -4.218***  \n                   (0.663)       (0.690)         (0.713)   \n                                                           \n-----------------------------------------------------------\nObservations         200           200             200     \nLog Likelihood    -182.752                      -182.905   \ntheta                                         6.115 (5.577)\nAkaike Inf. Crit.  373.505                       373.811   \n===========================================================\nNote:                           *p<0.1; **p<0.05; ***p<0.01\n```\n\n\n:::\n:::\n\n\n\n\n\n\\newpage\n\n## Reminders\n\n1. Before next live session: \n    1. Complete and turn in the Lab-1\n    2. Complete all videos and reading for unit 6\n\n",
    "supporting": [
      "wk5_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}